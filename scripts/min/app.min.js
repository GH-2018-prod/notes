function save(a){a.preventDefault();let b=document.getElementById("title").value,c=document.getElementById("description").value;executeSave(b,c,"tasks"),document.getElementById("formTask").reset(),getTasks()}function executeSave(e,f,a){let b={title:e,description:f};if(null===localStorage.getItem(a)){let c=[];c.push(b),localStorage.setItem(a,JSON.stringify(c))}else{let d=JSON.parse(localStorage.getItem(a));d.push(b),localStorage.setItem(a,JSON.stringify(d))}}function getTasks(){let a="tasks",b=JSON.parse(localStorage.getItem(a)),c=document.getElementById("tasks");printIssues(b,c,a,"btn btn-warning")}function printIssues(c,d,g,h){d.innerHTML="";for(let b=0;b<c.length;b++){let a=c[b].title,e=c[b].description;d.innerHTML+=`
        <div data-row="${a}" id="sadd" class="card mb-4 mt-2">
            <div class="card-header">
                <p>${a}</p>   
            </div>
            <div id="${a}" class="card-body">
                <p> ${e}</p>
            </div>
            <div class="buttons">
                <a id="edit${a}" class="btn btn-warning" onclick="edit(this)">
                    Edit
                </a>
                <a class="btn btn-danger" onclick="resolveIssue('${a}','${g}')">
                    Delete
                </a>
            </div>
        </div>`;let f=document.getElementById(a);f.innerText="",f.innerText=e}}function edit(d){let f=JSON.parse(localStorage.getItem("tasks")),c=document.getElementById(d.id),e=c.parentElement.parentElement,b=e.getElementsByTagName("div")[1];c.innerText="Save";let a=document.createElement("textarea");a.type="text",a.cols="40",a.rows="3",a.value=b.innerText,b.innerHTML="",b.appendChild(a),a.focus(),a.onblur=function(){c.innerText="Edit";for(let d=0;d<f.length;d++)f[d].title==b.id&&(b.removeChild(a),b.innerText=a.value,f[d].description=b.innerText,localStorage.setItem("tasks",JSON.stringify(f)))}}function resolveIssue(c,d){let a=JSON.parse(localStorage.getItem(d));for(let b=0;b<a.length;b++)a[b].title==c&&window.confirm("This action will send the ticket to resolved issues queue. Proceed with ticket: ? "+c)&&(a.splice(b,1),localStorage.setItem(d,JSON.stringify(a)));getTasks()}document.getElementById("formTask").addEventListener("submit",save),window.onload=getTasks